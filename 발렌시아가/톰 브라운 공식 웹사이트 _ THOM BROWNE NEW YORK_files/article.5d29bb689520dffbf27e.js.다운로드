webpackJsonp([30],{2653:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=o(0),a=(o.n(r),o(1)),i=(o.n(a),o(4)),s=o(6),l=o(30),c=o(7),u=o.n(c),p=o(2),d=o(3),f=o.n(d),h=o(99),m=o.n(h),v=o(29),y=o.n(v),b=o(205),P=o(298),g=o(34),w=o(591),_=o(592),C=o(2708),O=o(3367),j=o(1025),A=o(18),T=o(246),k=o(140),S=o(3369),E=o.n(S),M=o(620),x=o.n(M),N=o(594),R=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,o,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var l=Array(i),c=0;c<i;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:n,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}),D=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();function B(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var I=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.brandInfo=!1,o.state={fromArchive:f()(e,"location.state.fromArchive",!1)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),D(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.routeParams,o=e.loadPost,n=e.post;n&&n.result&&this.fetchSeoMetadata(this.props),o(t.slug),b.a.page(b.d.ARTICLE)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,o=t.post,n=t.routeParams,r=t.loadPost,a=t.decrementCacheRefCount;o.error!==e.post.error&&e.post.error&&a("post",n.slug),n.slug!==e.routeParams.slug&&(a("post",n.slug),r(e.routeParams.slug)),o!==e.post&&e.post&&e.post.result&&this.fetchSeoMetadata(e)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.routeParams;(0,e.decrementCacheRefCount)("post",t.slug)}},{key:"render",value:function(){var e=this.props,t=e.p.t,o=e.post,n=o.isLoading,r=void 0===n||n,a=o.result,i=e.location,s=e.isMobile,c=this.state.fromArchive,u=a&&m()(a.content,"key"),p=u&&(f()(u,"postGeneral.data.components.title.data.value",!1)||f()(u,"title.data.value",!1)),d=R(g.a,{className:E.a.backJournal,to:c?"/journal/archive":"/journal"},void 0,"< "+t(c?"archive":"journal"));return R(w.a,{dataTest:"ArticlePage"},void 0,this.brandInfo&&R(j.a,{jsonldData:this.brandInfo}),a&&R("div",{className:E.a.titleContainer},void 0,!s&&R("div",{className:E.a.arrowContainer},void 0,d,R("span",{},void 0,this.renderNextPrev(a.previousPostUrl,t("previous")),"|",this.renderNextPrev(a.nextPostUrl,t("next")))),R("h2",{className:E.a.title},void 0,p),!s&&R("div",{className:E.a.shareContainer},void 0,R(O.a,{className:E.a.shareClipboard,iconClassName:E.a.shareClipboardIcon,pathname:i&&i.pathname}))),R(_.a,{},void 0,r?R(P.a,{}):R(l.a,{component:{type:a.type,data:{components:a.content}}})),a&&s&&R("div",{className:E.a.bottomContainer},void 0,d,R("span",{},void 0,this.renderNextPrev(a.previousPostUrl,t("previous")),"|",this.renderNextPrev(a.nextPostUrl,t("next")))))}},{key:"renderNextPrev",value:function(e,t){return e?R(g.a,{className:E.a.sliderButtonArrow,to:e},void 0,t):R("span",{className:Object(p.a)(E.a.sliderButtonArrow,E.a.sliderButtonArrowDisabled)},void 0,t)}},{key:"fetchSeoMetadata",value:function(e){var t=e.location,o=e.post;this.props.loadSeoMetadataWithCache(t,{pageType:N.a.METADATA_PAGE_TYPE_POSTS,param:{postTitle:o.result.response.title},pathname:t.pathname,subPageType:N.a.METADATA_PAGE_TYPE_DEFAULT})}},{key:"createSchemaInfoArticle",value:function(e){var t=e.initPost;if(!y()(t)&&t.result){var o=f()(t,"result.content.article.data"),n="",r="",a=[],i=[];o.content.forEach(function(e){switch(e.key){case"title":n=e.data.value;break;case"description":r=e.data.value;break;case"htmlAndMedia":a.push(e.data.components);break;case"mediaRow":i.push.apply(i,B(e.data.components.modelMedias.data.components))}});var s=new Date(o.publishedAt),l=s.getFullYear()+"/"+(s.getMonth()+1)+"/"+s.getUTCDate(),c="",u=[],p=[];a.forEach(function(e){e.html&&(c=""+c+e.html.data.value+"; "),e.modelMedia&&"simple-video"===e.modelMedia.data.components.media.baseType&&u.push(e.modelMedia.data.components.media.data),e.modelMedia&&"simple-image"===e.modelMedia.data.components.media.baseType&&p.push(e.modelMedia.data.components.media.data.sources[1e3])}),i.forEach(function(e){"simple-video"===e.data.components.media.baseType&&u.push(e.data.components.media.data),"simple-image"===e.data.components.media.baseType&&p.push(e.data.components.media.data.sources[1e3])});var d=u&&u.map(function(e){return{"@context":"https://schema.org","@type":"VideoObject","@id":e.source,name:e.alt,description:e.alt,thumbnailUrl:e.thumbnails[1e3],embedUrl:e.source,uploadDate:l}});return[{"@context":"https://schema.org","@type":"Article",headline:n,description:r,articleBody:c,articleSection:o.tags.reduce(function(e,t){return e+", "+t}),datePublished:l,author:{"@type":"Person",name:"Thom Browne"},publisher:{"@type":"Organization",name:"Thom Browne",logo:{"@type":"ImageObject",url:x.a}},image:p}].concat(B(d))}}}]),t}();I.defaultProps={post:{}};var U=k.c.createGetPage(),G=k.c.createGetPost(),W={loadPost:k.a.loadPost,decrementCacheRefCount:k.a.decrementCacheRefCount,loadSeoMetadataWithCache:T.b};t.default=Object(s.d)(u()("dynamic-post"),Object(i.connect)(function(e,t){var o=t.routeParams;return{post:G(e,o.slug),initPost:U(e,o.slug),isMobile:"xs"===Object(A.b)(e)}},W),Object(C.a)(function(e){var t=e.post,o=(t=void 0===t?{}:t).error,n=void 0===o?{}:o;return n&&n.httpCode&&n.httpCode>=400}))(I)},2708:function(e,t,o){"use strict";t.a=function(e){return function(t){var o=function(o){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o),p(n,[{key:"componentWillMount",value:function(){0}},{key:"render",value:function(){return e(this.props)?u(l.a,{}):a.a.createElement(t,this.props)}}]),n}(r.PureComponent);return Object(s.connect)(null,{setStatusCode:c.f})(o)}};var n,r=o(0),a=o.n(r),i=o(1),s=(o.n(i),o(4)),l=o(593),c=o(246),u=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,o,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var l=Array(i),c=0;c<i;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:n,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}),p=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}()},3367:function(e,t,o){"use strict";var n,r=o(0),a=(o.n(r),o(1)),i=(o.n(a),o(7)),s=o.n(i),l=o(97),c=o(28),u=o(3368),p=o.n(u),d=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,o,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var l=Array(i),c=0;c<i;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:n,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}),f=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={copied:!1},o._handleCopy=o._handleCopy.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),f(t,[{key:"componentWillReceiveProps",value:function(e){e.pathname!==this.props.pathname&&this.setState({copied:!1})}},{key:"render",value:function(){var e=this.props,t=e.p.t,o=e.className,n=e.iconClassName;return d(l.a,{className:o,onClick:this._handleCopy},void 0,d(c.a,{className:n,svg:p.a,title:"share article",alt:"share article"}),this.state.copied?t("link-copied"):t("share"))}},{key:"_handleCopy",value:function(){var e=document.createElement("textarea");e.value="https://www.thombrowne.com"+this.props.pathname,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.setState({copied:!0})}}]),t}();t.a=s()("dynamic-post")(h)},3368:function(e,t,o){var n=o.p;e.exports={symbol:n+"images/svg-sprite.17159265399975c374d3.svg#icon-journal-share-6d567",view:n+"images/svg-sprite.17159265399975c374d3.svg#view-icon-journal-share-6d567",viewBox:"0 0 13 13",title:"icon/share",toString:function(){return JSON.stringify(this.view)}}},3369:function(e,t){e.exports={titleContainer:"_3rFPF",shareContainer:"_2vG4S",arrowContainer:"TVW4T",backJournal:"_2ePqr",title:"_1TiGJ",sliderButtonArrow:"_2wRGl",sliderButtonArrowDisabled:"_3rzv3",shareClipboard:"_2SfuE",shareClipboardIcon:"VPuD9",bottomContainer:"_10P9I"}}});