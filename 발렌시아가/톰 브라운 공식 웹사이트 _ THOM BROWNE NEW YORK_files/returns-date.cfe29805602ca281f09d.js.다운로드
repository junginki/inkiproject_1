webpackJsonp([28],{2628:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,a=t(0),o=t.n(a),i=t(1),u=(t.n(i),t(7)),s=t.n(u),l=t(2),c=t(134),d=t(300),p=t(2707),f=t(994),m=t(168),v=t(3071),b=t(29),h=t.n(b),g=t(3177),y=t.n(g),w=t(299),O=t.n(w),j=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},k=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,r,t,a){var o=e&&e.defaultProps,i=arguments.length-3;if(r||0===i||(r={}),r&&o)for(var u in o)void 0===r[u]&&(r[u]=o[u]);else r||(r=o||{});if(1===i)r.children=a;else if(i>1){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+3];r.children=s}return{$$typeof:n,type:e,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}}),N=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}();function S(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var _=S({},d.b.REQUIRED,"required-field"),F=function(e){function r(e){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.renderFormField=t.renderFormField.bind(t),t}return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(r,a["PureComponent"]),N(r,[{key:"getErrorMessage",value:function(e,r,t){if(void 0!==t){var n=this.props.p.t;return n(_[t],{name:n(r)})}}},{key:"getOptions",value:function(e){var r=this,t=this.props,n=t.propsForPickupDate,a=t.subfolder,o=t.shouldForceDateStep,i=n.pickupDates,u=n.timeSlots,s=n.values;if(o)switch(e){case"date":return Object(v.a)();case"startHour":return Object(v.d)();default:return{}}var l=Date.now();switch(e){case"date":return"cn"!==a&&"jp"!==a&&"kr"!==a||i.map(function(e){var r=new Date(e.value);return e.label=[r.getFullYear(),r.getMonth()+1,r.getDate()].join("/"),e.label}),i;case"startHour":return h()(u)?{}:Object.keys(u).reduce(function(e,t){return t>l?Object.assign({},e,S({},t,r.formatTime(parseInt(t,10)))):e},{});case"endHour":return!h()(u)&&s.startHour?u[s.startHour].reduce(function(e,t){return t>l?Object.assign({},e,S({},t,r.formatTime(parseInt(t,10)))):e},{}):{};default:return{}}}},{key:"render",value:function(){var e=this.props,r=e.isLoading,t=e.p.t,n=e.dataTest;return k(c.a,{isLoading:r},void 0,k("div",{className:y.a.pickupAddressContainer},void 0,k("div",{className:y.a.pickupAddressSubtitle,"data-test":n+"-title"},void 0,t("pickup-date-subtitle")),this.renderForm()))}},{key:"renderForm",value:function(){var e=this.props,r=e.p.t,t=e.dataTest,n=e.propsForPickupDate,a=e.error,i=e.shouldForceDateStep,u=n.pickupPeriodsStatusLoading,s=n.fieldsSchemas,p=n.pickupPeriodsStatusError;return k("div",{},void 0,o.a.createElement(d.a,j({},n,{renderField:this.renderFormField}),function(e){var a=e.renderField;return k("form",{className:y.a.form,"data-test":t+"-form"},void 0,k("div",{className:y.a.inputList},void 0,k("div",{className:y.a.dayInputWrapper},void 0,k("span",{className:y.a.timeRangeLabel,"data-test":t+"-dateLabel"},void 0,r("select-date")),(i||s.date)&&a(s.date,t+"-dateDropdown")),k("div",{className:Object(l.a)(y.a.timeRange,i&&y.a.doubleField)},void 0,k(c.a,{isLoading:u||n.lockFields.startHour||!!p,className:Object(l.a)(y.a.timeRangeLabelWrapper,y.a.hourInputWrapper)},void 0,k("span",{className:y.a.timeRangeLabel,"data-test":t?t+"-fromLabel":""},void 0,r(i?"pickup-time":"from")),(i||s.startHour)&&a(s.startHour,t+"-startHourDropdown")),!i&&k(c.a,{isLoading:u||n.lockFields.endHour||!!p,className:y.a.hourInputWrapper},void 0,k("span",{className:y.a.timeRangeLabel,"data-test":t?t+"-toLabel":""},void 0,r("to")),s.startHour&&a(s.endHour,t+"-endHourDropdown")))))}),(a||p)&&!i&&k(m.a,{type:"error",message:r("not-possible-schedule-pickup"),"data-test":t+"-error"}),k(f.a,{max:"sm"},void 0,k("p",{dangerouslySetInnerHTML:{__html:r("returns-policy-global")}}),k("p",{dangerouslySetInnerHTML:{__html:r("returns-policy-confirm")}})))}},{key:"renderFormField",value:function(e){var r=e.name,t=e.placeholder,n=e.error,a=e.onChange,i=function(e,r){var t={};for(var n in e)r.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(e,["name","placeholder","error","onChange"]),u=this.props,s=u.p.t,l=u.shouldForceDateStep,c=this.getOptions(r);return o.a.createElement(p.b,j({key:r,onChange:this.makeInputHandleChange(a),error:this.getErrorMessage(r,t,n),errorClassName:y.a.dropdownError,arrowIcon:O.a,arrowClassName:y.a.arrowClassName},i),k("option",{value:"",disabled:!0},void 0,s(t)),l&&c.map(function(e,r){return k("option",{value:r},r,e)}),l||"date"!==r?!l&&!h()(c)&&Object.keys(c).map(function(e){return k("option",{value:e},e,c[e])}):c.map(function(e){var r=e.value,t=e.label;return k("option",{value:r},r,t)}))}},{key:"formatTime",value:function(e){var r=this.props.subfolder;return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:"cn"!==r})}},{key:"makeInputHandleChange",value:function(e){return function(r){var t=r.target.value;e(t)}}}]),r}();F.defaultProps={propsForPickupDate:{fields:[],fieldsSchemas:{}}},r.default=s()("account.returns")(F)},2707:function(e,r,t){"use strict";var n=t(0),a=t.n(n),o=t(1),i=(t.n(o),t(2)),u=t(136),s=t(2731),l=t.n(s);t.d(r,"a",function(){return u.a});var c,d=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},p=(c="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,r,t,n){var a=e&&e.defaultProps,o=arguments.length-3;if(r||0===o||(r={}),r&&a)for(var i in a)void 0===r[i]&&(r[i]=a[i]);else r||(r=a||{});if(1===o)r.children=n;else if(o>1){for(var u=Array(o),s=0;s<o;s++)u[s]=arguments[s+3];r.children=u}return{$$typeof:c,type:e,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}});r.b=function(e){var r=e.className,t=e.selectWrapperClassName,n=e.selectClassName,o=e.errorClassName,s=e.error,c=e.labelDescription,f=e.required,m=e.dataTest,v=e.id,b=e.arrowClassName,h=e.selectorErrorClassName,g=function(e,r){var t={};for(var n in e)r.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(e,["className","selectWrapperClassName","selectClassName","errorClassName","error","labelDescription","required","dataTest","id","arrowClassName","selectorErrorClassName"]);return p("div",{className:Object(i.a)(l.a.wrapper,r)},void 0,c&&p("label",{"aria-live":"assertive",role:"alert",htmlFor:v||m+"-dropdownWithError",className:Object(i.a)(l.a.formLabel,s&&l.a.errorText),"data-test":m&&m+"Label"},void 0,c,f?"*":""),a.a.createElement(u.b,d({id:v||m+"-dropdownWithError",className:t,selectClassName:function(e,r,t){return Object(i.a)(l.a.input,r&&l.a.errorInput,r&&t,e)}(n,s,h),dataTest:m&&m,arrowClassName:b},g)),s&&p("div",{className:Object(i.a)(l.a.error,o),"data-test":m&&m+"-error"},void 0,p("span",{"aria-live":"assertive",role:"alert"},void 0,s)))}},2731:function(e,r){e.exports={wrapper:"_2YuMI",input:"_1gXaz",errorInput:"_3Pwpe",error:"dYuK8",formLabel:"mJt_c",errorText:"_3qhIE"}},3005:function(e,r,t){"use strict";t.d(r,"c",function(){return u}),t.d(r,"f",function(){return s}),t.d(r,"a",function(){return l}),t.d(r,"b",function(){return c}),t.d(r,"e",function(){return d}),t.d(r,"d",function(){return p}),t.d(r,"i",function(){return f}),t.d(r,"g",function(){return m}),t.d(r,"h",function(){return v}),t.d(r,"j",function(){return b});var n=t(29),a=t.n(n);function o(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}var i=function(e){return e.account.returns},u=function(e){return i(e).currentStep},s=function(e){return i(e).return},l=function(e){return i(e).createReturnStatus},c=function(e){return i(e).currentReturnId},d=function(e){return i(e).finalizeReturnStatus},p=function(e){return i(e).fetchPickupPeriodsStatus},f=function(e){return i(e).pickupDates},m=function(e,r){return i(e).returnList[r]},v=function(e,r){return i(e).fetchReturnListStatus[r]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i(e).timeSlots;return r&&!a()(r)?r.reduce(function(e,t){return Object.assign({},e,(n={},a=t.start,i=r.reduce(function(e,r){return t.start===r.start?[].concat(o(e),[r.end]):[].concat(o(e))},[]),a in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i,n));var n,a,i},{}):{}}},3071:function(e,r,t){"use strict";t.d(r,"b",function(){return o}),t.d(r,"a",function(){return i}),t.d(r,"d",function(){return u}),t.d(r,"c",function(){return s});var n=t(49),a=(t.n(n),t(3005)),o=Object(n.createSelector)(a.i,function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){var r=new Date(e);return{value:e,label:r.getDate()+"/"+(r.getMonth()+1)+"/"+r.getFullYear()}})}),i=function(){for(var e=new Array(10),r=3;r<e.length+3;r+=1){var t=new Date;t.setDate(t.getDate()+r);var n=t.getFullYear(),a=(1+t.getMonth()).toString(),o=t.getDate().toString();a=a.length>1?a:"0"+a,o=o.length>1?o:"0"+o,e[r-3]=n+"/"+a+"/"+o}return e},u=function(){return["2-4 pm","4-6 pm","6-8 pm"]},s=a.j},3177:function(e,r){e.exports={pickupAddressContainer:"_2LR9l",pickupAddressSubtitle:"_3crdj",form:"_3f1U7",inputList:"_2lbE8",arrowClassName:"Du0SY",dayInputWrapper:"_9lf_Z",hourInputWrapper:"_3wpHp",timeRangeLabelWrapper:"bcwIQ",timeRangeLabel:"_21b4E",dropdownError:"_4h8xj",timeRange:"_2OXhS",doubleField:"_5m-Tb"}}});