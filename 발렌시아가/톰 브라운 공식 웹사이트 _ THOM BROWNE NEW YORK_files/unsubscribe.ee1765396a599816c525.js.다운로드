webpackJsonp([41],{2630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var r,o=n(0),i=(n.n(o),n(1)),s=(n.n(i),n(4)),c=n(6),a=n(7),u=n.n(a),l=n(248),p=n(205),f=n(15),b=n(591),d=n(169),h=n(167),v=n(70),y=n(3211),m=n.n(y),w=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});if(1===s)t.children=o;else if(s>1){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+3];t.children=a}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var O=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={isError:!1,isSuccess:!1},t._handleOnUnsubscribe=t._handleOnUnsubscribe.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o["PureComponent"]),_(n,[{key:"componentDidMount",value:function(){p.a.page(p.d.UNSUBSCRIBE)}},{key:"render",value:function(){var e=this.props.p.t,t=this.state,n=t.isError,r=t.isSuccess,o=!n&&!r;return w(b.a,{},void 0,w(d.a,{className:m.a.centeredContainer},void 0,w("div",{className:m.a.wrapper},void 0,w("h2",{className:m.a.title},void 0,e("title")),w("p",{className:m.a.description},void 0,o&&e("description"),n&&e("error"),r&&e("success")),o&&w(h.a,{onClick:this._handleOnUnsubscribe,styleType:"primary",isLoading:this.props.isLoading},void 0,e("confirm")))))}},{key:"_handleOnUnsubscribe",value:function(){var t,n=(t=e.mark(function t(){var n,r,o,i,s;return e.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,r=n.unsubscribe,o=n.isGuestUser,i=n.localeRedirectTo,s=n.location.query.emailhash,e.prev=1,e.next=4,r(s);case 4:this.setState({isError:!1,isSuccess:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),403===e.t0.httpCode&&o?i("/account/login?returnUrl="+(window.location.pathname+window.location.search)):this.setState({isError:!0,isSuccess:!1});case 10:case"end":return e.stop()}},t,this,[[1,7]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});t(c)}("next")})});return function(){return n.apply(this,arguments)}}()}]),n}(),S={unsubscribe:l.b.unsubscribe,localeRedirectTo:f.b.localeRedirectTo};t.default=Object(c.d)(u()("unsubscribe"),Object(s.connect)(function(e){return{isGuestUser:Object(v.c)(e),isLoading:l.d.getUnsubscribeLoadingStatus(e)}},S))(O)}.call(t,n(5))},3211:function(e,t){e.exports={centeredContainer:"_2Xme4",wrapper:"_11paJ",title:"_37c-C",description:"_3pUcu"}}});